import{g as v,u as y}from"./chunk-JT3NWI7S.js";import{ha as u,ka as f,la as S,ya as T}from"./chunk-MYGTGYEB.js";import{Ce as g,Sd as I,Td as E,Zd as l,_d as B,f as D,h as p,le as d,ne as i,ze as a}from"./chunk-LVCVW23A.js";var b=D(B(),1);function R(){return p(this,null,function*(){if(i)return;function r(e){a.set(e),u.emit("WEB_FINISH"),window.__FINISHED__=!0}let n=S(a(),d);if(!d)return r(n);if(window.localStorage.getItem(l.DATE_TIME)!==I.datetime){let e=[l.WEBSITE,l.DATE_TIME];Array.from({length:globalThis.localStorage.length},(t,s)=>globalThis.localStorage.key(s)).forEach(t=>{t&&e.includes(t)&&globalThis.localStorage.removeItem(t)}),globalThis.localStorage.setItem(l.DATE_TIME,I.datetime),b.default.removeItem(l.WEBSITE),r(n),d&&setTimeout(()=>{u.emit("NOTIFICATION",{type:"success",title:g("_buildSuccess"),content:I.datetime,config:{nzDuration:0}})},1e3);return}try{let e=(yield b.default.getItem(l.WEBSITE))||n;r(e)}catch{r(n)}})}function c(r){return i?T({content:JSON.stringify(r),path:E}):b.default.setItem(l.WEBSITE,r)}function H(r){let{id:n}=v(),{oneIndex:o,twoIndex:e}=y(n),t=!r[o].nav[e].collapsed;return r[o].nav[e].collapsed=t,r[o].nav[e].nav.map(s=>(s.collapsed=t,s)),i||c(r),t}function O(r,n=!1){return p(this,null,function*(){let o=!1,e=f({navs:a(),filter:t=>t.name&&r.includes(n?t.rId:t.id)?(o=!0,!1):!0});return o&&(yield c(e),i||(a.set(e),u.emit("WEB_REFRESH"))),o})}function w(r,n){let o=Object.keys(n),e=!1,t=f({navs:a(),webCallback:s=>{if(s.id===r){e=!0;for(let m of o)s[m]=n[m]}return e}});return a.set(t),c(t),i||u.emit("WEB_REFRESH"),e}function M(r){let n=null;return f({navs:a(),webCallback:o=>o.id===r?(n=o,!0):!1}),n}function j(r,n){let o=Object.keys(n),e=!1,t=f({navs:a(),callback:s=>{if(s.id===r){e=!0;for(let m of o)s[m]=n[m]}return e}});return a.set(t),c(t),e}function K(r,n=!1){return p(this,null,function*(){let o=!1,e=f({navs:a(),filter:t=>t.title&&r.includes(n?t.rId:t.id)?(o=!0,!1):!0});return o&&(a.set(e),yield c(e)),o})}function L(r,n){let o=!1,e=f({navs:a(),callback:t=>{t.id===r&&(o=!0,t.nav.unshift(n))}});return a.set(e),c(e),i||u.emit("WEB_REFRESH"),o}export{R as a,c as b,H as c,O as d,w as e,M as f,j as g,K as h,L as i};
