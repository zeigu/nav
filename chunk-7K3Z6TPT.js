import{b as R,c as A}from"./chunk-4MCTFXQ2.js";import{c as f,g as x,o as y,p as g,u as E}from"./chunk-X4YHGJ6L.js";import{e as m,g as u}from"./chunk-RYIF4NLI.js";import{ea as o}from"./chunk-XTHEKG4A.js";import{dd as l,fe as I,ge as p,he as v,oa as d,oe as r,ta as n,te as h}from"./chunk-N3GXQ3JI.js";var N=class i{constructor(e,t){this.router=e;this.activatedRoute=t;let a=()=>{let{id:_,q:s}=x(),{oneIndex:S,twoIndex:w,threeIndex:T}=E(_);this.oneIndex=S,this.twoIndex=w,this.selectedThreeIndex=T,this.searchKeyword=s,s?this.currentList=f(this.navs(),s):this.currentList=y()},c=()=>{this.activatedRoute.queryParams.subscribe(()=>{this.sliceMax=0,a(),setTimeout(()=>{this.sliceMax=Number.MAX_SAFE_INTEGER},100)})};window.__FINISHED__?c():o.on("WEB_FINISH",()=>{c()}),o.on("WEB_REFRESH",()=>{a()})}isLogin=I;settings=r;permissions=p(r());title=l(()=>r().title.trim().split(/\s/)[0]);navs=h;currentList=[];twoIndex=0;oneIndex=0;sliceMax=0;selectedThreeIndex=0;searchKeyword="";overIndex=Number.MAX_SAFE_INTEGER;handleClickClass(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{id:e,_:Date.now()}}),o.emit("SEARCH_FOCUS")}onCollapseAll=e=>{e?.stopPropagation(),A(this.navs())};trackByItem(e,t){return t.title}trackByItemWeb(e,t){return t.id}get collapsed(){try{return!!this.navs()[this.oneIndex].nav[this.twoIndex].collapsed}catch{return!1}}onCollapse=e=>{e.collapsed=!e.collapsed,v||R(this.navs())};getOverIndex(e){queueMicrotask(()=>{let t=g(e);this.overIndex!==t&&(this.overIndex=t)})}setOverIndex(){this.overIndex=Number.MAX_SAFE_INTEGER}static \u0275fac=function(t){return new(t||i)(n(u),n(m))};static \u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})};export{N as a};
