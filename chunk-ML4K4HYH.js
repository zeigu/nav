import{a as Jt}from"./chunk-P6Y4HPE2.js";import{a as St}from"./chunk-WNPO4KME.js";import{r as Ne,s as Ae,v as He}from"./chunk-LB5G6PTD.js";import{a as We}from"./chunk-2WHO3YRI.js";import{Ja as Le,La as Fe,Qa as Re,Ra as je,V as ke,W as Te,X as mt,Y as Oe}from"./chunk-OYFLITLG.js";import{$b as xe,Ac as Ct,Bc as x,Cc as P,Cd as Z,Da as Q,Dc as R,Ea as G,Ec as ie,Fa as X,Fb as M,Ga as ge,Gb as Ce,Hb as _e,Lb as D,Ma as Kt,Mc as jt,Na as ye,Nc as _t,Qd as gt,Ra as te,Rc as Wt,Rd as Ee,Sb as _,Sc as Yt,T as me,Tb as k,Ub as F,Uc as xt,X as he,Zc as Pe,a as At,ad as Vt,bc as we,bd as ne,cc as Se,d as ii,dc as Me,ec as m,f as pe,fc as p,gc as $,ha as Dt,hc as Ie,ic as ze,kc as rt,le as Bt,me as Qt,nc as K,ob as Lt,oe as $e,pa as fe,pb as ve,pc as I,q as Ht,qc as Ft,ra as ue,rc as Rt,sb as c,tc as De,td as wt,ua as Xt,uc as tt,ud as ot,ue as N,vc as J,w as dt,wb as ee,wc as U,we as z,x as Y,xb as E,yd as pt,zd as be}from"./chunk-GZTZQJEN.js";var re=ii((oe,se)=>{"use strict";(function(n,i){typeof oe=="object"&&typeof se<"u"?se.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=i()})(oe,function(){"use strict";var n=1e3,i=6e4,t=36e5,e="millisecond",s="second",v="minute",T="hour",L="day",it="week",A="month",at="quarter",j="year",V="date",Mt="Invalid Date",kt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Tt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ot={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(h){var a=["th","st","nd","rd"],r=h%100;return"["+h+(a[(r-20)%10]||a[r]||a[0])+"]"}},yt=function(h,a,r){var d=String(h);return!d||d.length>=a?h:""+Array(a+1-d.length).join(r)+h},Et={s:yt,z:function(h){var a=-h.utcOffset(),r=Math.abs(a),d=Math.floor(r/60),l=r%60;return(a<=0?"+":"-")+yt(d,2,"0")+":"+yt(l,2,"0")},m:function h(a,r){if(a.date()<r.date())return-h(r,a);var d=12*(r.year()-a.year())+(r.month()-a.month()),l=a.clone().add(d,A),g=r-l<0,y=a.clone().add(d+(g?-1:1),A);return+(-(d+(r-l)/(g?l-y:y-l))||0)},a:function(h){return h<0?Math.ceil(h)||0:Math.floor(h)},p:function(h){return{M:A,y:j,w:it,d:L,D:V,h:T,m:v,s,ms:e,Q:at}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(h){return h===void 0}},lt="en",ht={};ht[lt]=Ot;var f="$isDayjsObject",o=function(h){return h instanceof nt||!(!h||!h[f])},u=function h(a,r,d){var l;if(!a)return lt;if(typeof a=="string"){var g=a.toLowerCase();ht[g]&&(l=g),r&&(ht[g]=r,l=g);var y=a.split("-");if(!l&&y.length>1)return h(y[0])}else{var S=a.name;ht[S]=a,l=S}return!d&&l&&(lt=l),l||!d&&lt},w=function(h,a){if(o(h))return h.clone();var r=typeof a=="object"?a:{};return r.date=h,r.args=arguments,new nt(r)},C=Et;C.l=u,C.i=o,C.w=function(h,a){return w(h,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var nt=function(){function h(r){this.$L=u(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[f]=!0}var a=h.prototype;return a.parse=function(r){this.$d=function(d){var l=d.date,g=d.utc;if(l===null)return new Date(NaN);if(C.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var y=l.match(kt);if(y){var S=y[2]-1||0,b=(y[7]||"0").substring(0,3);return g?new Date(Date.UTC(y[1],S,y[3]||1,y[4]||0,y[5]||0,y[6]||0,b)):new Date(y[1],S,y[3]||1,y[4]||0,y[5]||0,y[6]||0,b)}}return new Date(l)}(r),this.init()},a.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},a.$utils=function(){return C},a.isValid=function(){return this.$d.toString()!==Mt},a.isSame=function(r,d){var l=w(r);return this.startOf(d)<=l&&l<=this.endOf(d)},a.isAfter=function(r,d){return w(r)<this.startOf(d)},a.isBefore=function(r,d){return this.endOf(d)<w(r)},a.$g=function(r,d,l){return C.u(r)?this[d]:this.set(l,r)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(r,d){var l=this,g=!!C.u(d)||d,y=C.p(r),S=function(ut,W){var ct=C.w(l.$u?Date.UTC(l.$y,W,ut):new Date(l.$y,W,ut),l);return g?ct:ct.endOf(L)},b=function(ut,W){return C.w(l.toDate()[ut].apply(l.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(W)),l)},O=this.$W,H=this.$M,B=this.$D,vt="set"+(this.$u?"UTC":"");switch(y){case j:return g?S(1,0):S(31,11);case A:return g?S(1,H):S(0,H+1);case it:var ft=this.$locale().weekStart||0,It=(O<ft?O+7:O)-ft;return S(g?B-It:B+(6-It),H);case L:case V:return b(vt+"Hours",0);case T:return b(vt+"Minutes",1);case v:return b(vt+"Seconds",2);case s:return b(vt+"Milliseconds",3);default:return this.clone()}},a.endOf=function(r){return this.startOf(r,!1)},a.$set=function(r,d){var l,g=C.p(r),y="set"+(this.$u?"UTC":""),S=(l={},l[L]=y+"Date",l[V]=y+"Date",l[A]=y+"Month",l[j]=y+"FullYear",l[T]=y+"Hours",l[v]=y+"Minutes",l[s]=y+"Seconds",l[e]=y+"Milliseconds",l)[g],b=g===L?this.$D+(d-this.$W):d;if(g===A||g===j){var O=this.clone().set(V,1);O.$d[S](b),O.init(),this.$d=O.set(V,Math.min(this.$D,O.daysInMonth())).$d}else S&&this.$d[S](b);return this.init(),this},a.set=function(r,d){return this.clone().$set(r,d)},a.get=function(r){return this[C.p(r)]()},a.add=function(r,d){var l,g=this;r=Number(r);var y=C.p(d),S=function(H){var B=w(g);return C.w(B.date(B.date()+Math.round(H*r)),g)};if(y===A)return this.set(A,this.$M+r);if(y===j)return this.set(j,this.$y+r);if(y===L)return S(1);if(y===it)return S(7);var b=(l={},l[v]=i,l[T]=t,l[s]=n,l)[y]||1,O=this.$d.getTime()+r*b;return C.w(O,this)},a.subtract=function(r,d){return this.add(-1*r,d)},a.format=function(r){var d=this,l=this.$locale();if(!this.isValid())return l.invalidDate||Mt;var g=r||"YYYY-MM-DDTHH:mm:ssZ",y=C.z(this),S=this.$H,b=this.$m,O=this.$M,H=l.weekdays,B=l.months,vt=l.meridiem,ft=function(W,ct,zt,Nt){return W&&(W[ct]||W(d,g))||zt[ct].slice(0,Nt)},It=function(W){return C.s(S%12||12,W,"0")},ut=vt||function(W,ct,zt){var Nt=W<12?"AM":"PM";return zt?Nt.toLowerCase():Nt};return g.replace(Tt,function(W,ct){return ct||function(zt){switch(zt){case"YY":return String(d.$y).slice(-2);case"YYYY":return C.s(d.$y,4,"0");case"M":return O+1;case"MM":return C.s(O+1,2,"0");case"MMM":return ft(l.monthsShort,O,B,3);case"MMMM":return ft(B,O);case"D":return d.$D;case"DD":return C.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return ft(l.weekdaysMin,d.$W,H,2);case"ddd":return ft(l.weekdaysShort,d.$W,H,3);case"dddd":return H[d.$W];case"H":return String(S);case"HH":return C.s(S,2,"0");case"h":return It(1);case"hh":return It(2);case"a":return ut(S,b,!0);case"A":return ut(S,b,!1);case"m":return String(b);case"mm":return C.s(b,2,"0");case"s":return String(d.$s);case"ss":return C.s(d.$s,2,"0");case"SSS":return C.s(d.$ms,3,"0");case"Z":return y}return null}(W)||y.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(r,d,l){var g,y=this,S=C.p(d),b=w(r),O=(b.utcOffset()-this.utcOffset())*i,H=this-b,B=function(){return C.m(y,b)};switch(S){case j:g=B()/12;break;case A:g=B();break;case at:g=B()/3;break;case it:g=(H-O)/6048e5;break;case L:g=(H-O)/864e5;break;case T:g=H/t;break;case v:g=H/i;break;case s:g=H/n;break;default:g=H}return l?g:C.a(g)},a.daysInMonth=function(){return this.endOf(A).$D},a.$locale=function(){return ht[this.$L]},a.locale=function(r,d){if(!r)return this.$L;var l=this.clone(),g=u(r,d,!0);return g&&(l.$L=g),l},a.clone=function(){return C.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},h}(),$t=nt.prototype;return w.prototype=$t,[["$ms",e],["$s",s],["$m",v],["$H",T],["$W",L],["$M",A],["$y",j],["$D",V]].forEach(function(h){$t[h[1]]=function(a){return this.$g(a,h[0],h[1])}}),w.extend=function(h,a){return h.$i||(h(a,nt,w),h.$i=!0),w},w.locale=u,w.isDayjs=o,w.unix=function(h){return w(1e3*h)},w.en=ht[lt],w.Ls=ht,w.p={},w})});var Ye=class n{data;component=N();date="";day="";week="";dayOfYear="";constructor(){let i=Ae();this.date=z("_calendarDate",{year:i.year,month:i.month}),this.day=i.zeroDate,this.week=i.dayText,this.dayOfYear=z("_dayOfYear",{day:Ne()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"div",1),x(2),p(),m(3,"div",2)(4,"div",3),x(5),p(),m(6,"div",4)(7,"span",5),x(8),p(),m(9,"span"),x(10),p()()()()),t&2&&(k("zoom",e.component.zoom),c(),k("background",e.data.topColor),c(),R(" ",e.date," "),c(),k("background",e.data.bgColor),c(2),P(e.day),c(3),P(e.dayOfYear),c(2),P(e.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var Ve=class n{data;component=N();runDays=0;unit="";constructor(){let i=Date.now()-$e().runtime;i=i<0?0:i;let t=Math.floor(i/(1e3*60*60*24*365));t>0?(this.runDays=t,this.unit=z("_year")):(this.runDays=Math.floor(i/(1e3*60*60*24)),this.unit=z("_day"))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"div",1),x(2),p(),m(3,"div",2)(4,"span",3),x(5),p(),m(6,"span",4),x(7),p()(),$(8,"img",5),p()),t&2&&(k("zoom",e.component.zoom),c(2),P(e.data.title),c(3),P(e.runDays),c(2),P(e.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function ni(n,i){if(n&1&&(m(0,"div",5),x(1),p()),n&2){let t=I();c(),P(t.countdownStr)}}function oi(n,i){n&1&&$(0,"img",6)}function si(n,i){n&1&&$(0,"img",6)}var Be=class n{data;component=N();timer;countdownStr="";isRest=!1;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(i){i.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let i=new Date,t=i.getTime(),e=new Date(this.data.startDate);e.setFullYear(i.getFullYear()),e.setMonth(i.getMonth()),e.setDate(i.getDate());let s=e.getTime(),v=new Date(this.data.date);v.setFullYear(i.getFullYear()),v.setMonth(i.getMonth()),v.setDate(i.getDate());let T=v.getTime(),L=(T-t)/1e3,it=L/(60*60),A=Math.floor(it%1*10)/10,at=Math.floor(L/60%60),j=Math.floor(L%60),V=Math.floor(it)+A;if(t>=s&&t<=T)V>=1?this.countdownStr=z("_hours",{num:V}):at>0?this.countdownStr=z("_minutes",{num:at}):j>=0&&(this.countdownStr=z("_seconds",{num:j}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-offwork"]],inputs:{data:"data"},features:[Q],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(t,e){if(t&1&&(m(0,"div",1)(1,"div",2),x(2),p(),D(3,ni,2,1,"div",3)(4,oi,1,0,"img",4)(5,si,1,0,"ng-template",null,0,xt),p()),t&2){let s=Ct(6);k("zoom",e.component.zoom),F("rest",e.isRest),c(2),R(" ",e.isRest?e.data.restTitle:e.data.workTitle," "),c(),_("ngIf",!e.isRest),c(),_("ngIf",e.isRest)("ngIfElse",s)}},dependencies:[Z,ot],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Qe=class n{constructor(i){this.jumpService=i}data;component=N();static \u0275fac=function(t){return new(t||n)(E(St))};static \u0275cmp=M({type:n,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(t,e){t&1&&(m(0,"div",0),K("click",function(v){return e.jumpService.goUrl(v,e.data.go)}),m(1,"div",1),x(2),p()()),t&2&&(k("background-image",e.data.url&&"url("+e.data.url+")")("zoom",e.component.zoom),F("cursor-pointer",e.data.go),c(2),P(e.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var bt=pe(re(),1);var Ue=class n{data;component=N();countdownData={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let i={};this.data.date&&(i.dateStr=(0,bt.default)(this.data.date).format("YYYY.MM.DD"),i.dayStr=(0,bt.default)((0,bt.default)(this.data.date).format("YYYY-MM-DD")).diff((0,bt.default)().format("YYYY-MM-DD"),"day"),i.dayStr=i.dayStr<0?0:i.dayStr,i.dayStr=i.dayStr>9999?9999:i.dayStr),this.countdownData=i}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-countdown"]],inputs:{data:"data"},features:[Q],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"div",1),x(2),p(),m(3,"div",2)(4,"div",3),x(5),p(),m(6,"div",4),x(7),p()()()),t&2&&(k("zoom",e.component.zoom),c(),k("background",e.data.topColor),c(),R(" ",e.data.title," "),c(),k("background-image",e.data.url&&"url("+e.data.url+")")("background-color",e.data.bgColor),c(),k("color",e.data.dayColor),c(),R(" ",e.countdownData.dayStr," "),c(),k("color",e.data.dateColor),c(),R(" - ",e.countdownData.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var ri=["root"],Ze=class n{data;root;parseDescriptionTimer;component=N();html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=Qt(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Bt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-html"]],viewQuery:function(t,e){if(t&1&&tt(ri,5),t&2){let s;J(s=U())&&(e.root=s.first)}},inputs:{data:"data"},features:[Q],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(t,e){t&1&&($(0,"div",1,0),Wt(2,"safeHtml")),t&2&&(k("zoom",e.component.zoom)("width",e.data.width+"px")("background",e.data.bgColor),_("innerHTML",Yt(2,7,e.html),Lt))},dependencies:[Jt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var st=pe(re(),1);function ai(n,i){if(n&1&&(m(0,"span",10),x(1),p()),n&2){let t=I(2);c(),P(t.$t("_rest"))}}function li(n,i){if(n&1&&(Ie(0),x(1),ze()),n&2){let t=I(2);c(),R("- ",t.items[0].afterDay,"")}}function ci(n,i){if(n&1&&(m(0,"span",10),x(1),p()),n&2){let t=I(3);c(),P(t.$t("_rest"))}}function di(n,i){if(n&1&&(m(0,"div",14),x(1),p()),n&2){let t=I().$implicit,e=I(2);c(),ie(" ",t.diffDay,"",e.$t("_day")," ")}}function pi(n,i){if(n&1&&(m(0,"div",11)(1,"div",12),x(2),D(3,ci,2,1,"span",6),p(),D(4,di,2,2,"div",13),p()),n&2){let t=i.$implicit;c(2),ie(" ",t.title," ",t.dateStr,""),c(),_("ngIf",t.day>0),c(),_("ngIf",t.diffDay>0)}}function mi(n,i){if(n&1&&(m(0,"div",1)(1,"div",2)(2,"div",3),x(3),p(),m(4,"div",4),x(5),p(),m(6,"div",5),D(7,ai,2,1,"span",6),m(8,"span"),x(9),D(10,li,2,1,"ng-container",7),p()()(),m(11,"div",8),D(12,pi,5,4,"div",9),p()()),n&2){let t=I();k("zoom",t.component.zoom),c(),F("today",t.items[0].isToday||t.items[0].isRest),c(2),R(" ",t.items[0].isToday||t.items[0].isRest?t.$t("_dayIs"):t.$t("_distance")+t.items[0].title," "),c(2),P(t.items[0].diffStr),c(2),_("ngIf",t.items[0].day>0),c(2),R("",t.items[0].dateStr," "),c(),_("ngIf",t.items[0].afterDay),c(2),_("ngForOf",t.items)}}var qe=class n{data;items=[];component=N();$t=z;constructor(){}ngOnChanges(){this.init()}init(){let i={},t=(0,st.default)((0,st.default)().format("YYYY-MM-DD"));this.data.items&&(i=[...this.data.items].filter(e=>{e.date=(0,st.default)(e.date).format("YYYY-MM-DD");let s=(0,st.default)(e.date);return e.day>0&&(s=s.add(e.day-1,"day")),!s.isBefore(t)}).slice(0,4).map(e=>(e.dateStr=(0,st.default)(e.date).format("MM.DD"),e.diffDay=(0,st.default)((0,st.default)(e.date).format("YYYY-MM-DD")).diff(t,"day"),e.diffDay=e.diffDay<0?0:e.diffDay,e.diffDay=e.diffDay>999?999:e.diffDay,e.diffStr=e.diffDay,e.day>0&&(e.afterDay=(0,st.default)(e.date).add(e.day-1,"day").format("MM.DD"),e.afterDay===e.dateStr&&(e.afterDay=null)),e.isToday=e.dateStr===(0,st.default)().format("MM.DD"),e.diffDay<=0&&(e.isToday?e.diffStr=e.title:(e.isRest=!0,e.diffStr="\u4F11\u606F\u65E5")),e))),this.items=i}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-holiday"]],inputs:{data:"data"},features:[Q],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(t,e){t&1&&D(0,mi,13,10,"div",0),t&2&&_("ngIf",e.items.length)},dependencies:[Z,wt,ot],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var Ge={1:z("_weibo"),2:"V2EX",3:z("_douyin"),4:z("_bilibili"),5:z("_juejin"),6:z("_baidu"),7:"GitHub",8:z("_52"),9:z("_hongshu"),10:z("_toutiao"),11:z("_douban"),12:"Hacker News",13:z("_zhihu"),14:z("_zhihuDaily")};var Ut=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(t,e){t&1&&(ge(),m(0,"svg",0),$(1,"circle",1),p())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var hi=["parent"],fi=["content"],ui=["item"],gi=(n,i)=>({zoom:n,background:i});function yi(n,i){if(n&1){let t=rt();m(0,"div",10,2),K("mouseenter",function(){let s=G(t).index,v=I();return X(v.onMouseEnter(s))}),x(2),p()}if(n&2){let t=i.$implicit,e=i.index,s=I();F("active",e===s.activeIndex),c(2),R(" ",s.newsTypeMap[t]," ")}}function vi(n,i){n&1&&$(0,"app-loading")}function Ci(n,i){if(n&1&&(m(0,"div",11),x(1),p()),n&2){let t=I();c(),R(" ",t.$t("_noNews")," ")}}function _i(n,i){if(n&1&&(m(0,"span",16),x(1),p()),n&2){let t=I().$implicit;c(),P(t.hot)}}function xi(n,i){if(n&1){let t=rt();m(0,"div",12),K("click",function(s){let v=G(t).$implicit,T=I();return X(T.jumpService.goUrl(s,v.url))}),m(1,"span",13),x(2),p(),m(3,"span",14),x(4),p(),D(5,_i,2,1,"span",15),p()}if(n&2){let t=i.$implicit,e=i.index;c(2),P(e+1),c(2),P(t.text),c(),_("ngIf",t.hot)}}var Xe=class n{constructor(i){this.jumpService=i;let t=localStorage.getItem(gt.NEWS);if(t)try{this.newsListMap=JSON.parse(t)}catch{}}parentElement;contentRef;items;data;$t=z;newsTypeMap=Ge;component=N();activeIndex=0;newsListMap={};loading=!1;get newsList(){let i=this.data.types;return this.newsListMap[i[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(i){this.activeIndex=i,this.contentRef.nativeElement.scrollTop=0}scrollIntoViewTabs(){He(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let i=this.data.types;if(!i||i.length<=0){localStorage.removeItem(gt.NEWS),localStorage.removeItem(gt.NEWS_DATE);return}let t=Date.now(),e=Number(localStorage.getItem(gt.NEWS_DATE));e&&t-e<36e5||(this.newsList.length<=0&&(this.loading=!0),Le(At({},this.data)).then(s=>{this.newsListMap=At(At({},this.newsListMap),s.data),localStorage.setItem(gt.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(gt.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(i,t){return t.text}static \u0275fac=function(t){return new(t||n)(E(St))};static \u0275cmp=M({type:n,selectors:[["app-news"]],viewQuery:function(t,e){if(t&1&&(tt(hi,5),tt(fi,5),tt(ui,5)),t&2){let s;J(s=U())&&(e.parentElement=s.first),J(s=U())&&(e.contentRef=s.first),J(s=U())&&(e.items=s)}},inputs:{data:"data"},features:[Q],decls:9,vars:9,consts:[["parent",""],["content",""],["item",""],[1,"news","citems","family",3,"ngStyle"],[1,"tabs","hidden-scrollbar",3,"mouseleave","click"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(t,e){if(t&1){let s=rt();m(0,"div",3)(1,"div",4,0),K("mouseleave",function(){return G(s),X(e.scrollIntoViewTabs())})("click",function(){return G(s),X(e.scrollIntoViewTabs())}),D(3,yi,3,3,"div",5),p(),m(4,"div",6,1),D(6,vi,1,0,"app-loading",7)(7,Ci,2,1,"div",8)(8,xi,6,3,"div",9),p()()}t&2&&(_("ngStyle",_t(6,gi,e.component.zoom,e.data.bgColor)),c(3),_("ngForOf",e.data.types),c(3),_("ngIf",e.loading),c(),_("ngIf",!e.loading&&e.newsList.length===0),c(),_("ngForOf",e.newsList)("ngForTrackBy",e.trackByItem))},dependencies:[Z,wt,ot,pt,Ut],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};var Si=["slickList"],Mi=["slickTrack"],Ii=["*"],zi=n=>({$implicit:n});function Di(n,i){}function Pi(n,i){if(n&1){let t=rt();m(0,"li",9),K("click",function(){let s=G(t).$index,v=I(2);return X(v.goTo(s))}),D(1,Di,0,0,"ng-template",10),p()}if(n&2){let t=i.$index,e=I(2),s=Ct(8);F("slick-active",t===e.activeIndex),c(),_("ngTemplateOutlet",e.nzDotRender||s)("ngTemplateOutletContext",jt(4,zi,t))}}function bi(n,i){if(n&1&&(m(0,"ul",7),Se(1,Pi,2,6,"li",8,we),p()),n&2){let t=I();F("slick-dots-top",t.nzDotPosition==="top")("slick-dots-bottom",t.nzDotPosition==="bottom")("slick-dots-left",t.nzDotPosition==="left")("slick-dots-right",t.nzDotPosition==="right"),c(),Me(t.carouselContents)}}function ki(n,i){if(n&1&&(m(0,"button"),x(1),p()),n&2){let t=i.$implicit;c(),P(t+1)}}var de=(()=>{class n{renderer;el;set isActive(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")}get isActive(){return this._active}_active=!1;constructor(t,e){this.renderer=e,this.el=t.nativeElement}static \u0275fac=function(e){return new(e||n)(E(te),E(ee))};static \u0275dir=_e({type:n,selectors:[["","nz-carousel-content",""]],hostAttrs:[1,"slick-slide"],exportAs:["nzCarouselContent"]})}return n})(),Zt=class{cdr;renderer;platform;options;carouselComponent;contents;slickListEl;slickTrackEl;length;unitWidth;unitHeight;get maxIndex(){return this.length-1}get firstEl(){return this.contents[0].el}get lastEl(){return this.contents[this.maxIndex].el}constructor(i,t,e,s,v){this.cdr=t,this.renderer=e,this.platform=s,this.options=v,this.carouselComponent=i}withCarouselContents(i){let t=this.carouselComponent;if(this.slickListEl=t.slickListEl,this.slickTrackEl=t.slickTrackEl,this.contents=i?.toArray()||[],this.length=this.contents.length,this.platform.isBrowser){let e=t.el.getBoundingClientRect();this.unitWidth=e.width,this.unitHeight=e.height}else i?.forEach((e,s)=>{s===0?this.renderer.setStyle(e.el,"width","100%"):this.renderer.setStyle(e.el,"display","none")})}dragging(i){}dispose(){}getFromToInBoundary(i,t){let e=this.maxIndex+1;return{from:(i+e)%e,to:(t+e)%e}}},ae=class extends Zt{withCarouselContents(i){super.withCarouselContents(i),this.contents&&(this.slickTrackEl.style.width=`${this.length*this.unitWidth}px`,this.contents.forEach((t,e)=>{this.renderer.setStyle(t.el,"opacity",this.carouselComponent.activeIndex===e?"1":"0"),this.renderer.setStyle(t.el,"position","relative"),this.renderer.setStyle(t.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(t.el,"left",`${-this.unitWidth*e}px`),this.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])}))}switch(i,t){let{to:e}=this.getFromToInBoundary(i,t),s=new Ht;return this.contents.forEach((v,T)=>{this.renderer.setStyle(v.el,"opacity",e===T?"1":"0")}),setTimeout(()=>{s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s}dispose(){this.contents.forEach(i=>{this.renderer.setStyle(i.el,"transition",null),this.renderer.setStyle(i.el,"opacity",null),this.renderer.setStyle(i.el,"width",null),this.renderer.setStyle(i.el,"left",null)}),super.dispose()}},le=class extends Zt{isDragging=!1;isTransitioning=!1;get vertical(){return this.carouselComponent.vertical}constructor(i,t,e,s,v){super(i,t,e,s,v)}dispose(){super.dispose(),this.renderer.setStyle(this.slickTrackEl,"transform",null)}withCarouselContents(i){super.withCarouselContents(i);let e=this.carouselComponent.activeIndex;this.platform.isBrowser&&this.contents.length&&(this.renderer.setStyle(this.slickListEl,"height",`${this.unitHeight}px`),this.vertical?(this.renderer.setStyle(this.slickTrackEl,"width",`${this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"height",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`)):(this.renderer.setStyle(this.slickTrackEl,"height",`${this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"width",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`)),this.contents.forEach(s=>{this.renderer.setStyle(s.el,"position","relative"),this.renderer.setStyle(s.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(s.el,"height",`${this.unitHeight}px`)}))}switch(i,t){let{to:e}=this.getFromToInBoundary(i,t),s=new Ht;return this.renderer.setStyle(this.slickTrackEl,"transition",`transform ${this.carouselComponent.nzTransitionSpeed}ms ease`),this.vertical?this.verticalTransform(i,t):this.horizontalTransform(i,t),this.isTransitioning=!0,this.isDragging=!1,setTimeout(()=>{this.renderer.setStyle(this.slickTrackEl,"transition",null),this.contents.forEach(v=>{this.renderer.setStyle(v.el,this.vertical?"top":"left",null)}),this.vertical?this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`),this.isTransitioning=!1,s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s.asObservable()}dragging(i){if(this.isTransitioning)return;let t=this.carouselComponent.activeIndex;this.carouselComponent.vertical?(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareVerticalContext(!0):t===0&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight+i.x}px, 0)`)):(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareHorizontalContext(!0):t===0&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth+i.x}px, 0, 0)`)),this.isDragging=!0}verticalTransform(i,t){let{from:e,to:s}=this.getFromToInBoundary(i,t);this.length>2&&t!==s?(this.prepareVerticalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight}px, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-s*this.unitHeight}px, 0`)}horizontalTransform(i,t){let{from:e,to:s}=this.getFromToInBoundary(i,t);this.length>2&&t!==s?(this.prepareHorizontalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth}px, 0, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-s*this.unitWidth}px, 0, 0`)}prepareVerticalContext(i){i?(this.renderer.setStyle(this.firstEl,"top",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",`${-this.unitHeight*this.length}px`))}prepareHorizontalContext(i){i?(this.renderer.setStyle(this.firstEl,"left",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",`${-this.unitWidth*this.length}px`))}},Ti=new ue("nz-carousel-custom-strategies"),Oi="carousel",Ke=(()=>{let n=[],i,t=[],e=[],s,v=[],T=[],L,it=[],A=[],at,j=[],V=[],Mt,kt=[],Tt=[],Ot,yt=[],Et=[],lt;return class ce{static{let f=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[mt()],s=[mt()],L=[mt()],at=[mt()],Mt=[mt()],Ot=[mt()],lt=[mt()],dt(this,null,lt,{kind:"setter",name:"nzDotPosition",static:!1,private:!1,access:{has:o=>"nzDotPosition"in o,set:(o,u)=>{o.nzDotPosition=u}},metadata:f},null,n),dt(null,null,i,{kind:"field",name:"nzEffect",static:!1,private:!1,access:{has:o=>"nzEffect"in o,get:o=>o.nzEffect,set:(o,u)=>{o.nzEffect=u}},metadata:f},t,e),dt(null,null,s,{kind:"field",name:"nzEnableSwipe",static:!1,private:!1,access:{has:o=>"nzEnableSwipe"in o,get:o=>o.nzEnableSwipe,set:(o,u)=>{o.nzEnableSwipe=u}},metadata:f},v,T),dt(null,null,L,{kind:"field",name:"nzDots",static:!1,private:!1,access:{has:o=>"nzDots"in o,get:o=>o.nzDots,set:(o,u)=>{o.nzDots=u}},metadata:f},it,A),dt(null,null,at,{kind:"field",name:"nzAutoPlay",static:!1,private:!1,access:{has:o=>"nzAutoPlay"in o,get:o=>o.nzAutoPlay,set:(o,u)=>{o.nzAutoPlay=u}},metadata:f},j,V),dt(null,null,Mt,{kind:"field",name:"nzAutoPlaySpeed",static:!1,private:!1,access:{has:o=>"nzAutoPlaySpeed"in o,get:o=>o.nzAutoPlaySpeed,set:(o,u)=>{o.nzAutoPlaySpeed=u}},metadata:f},kt,Tt),dt(null,null,Ot,{kind:"field",name:"nzLoop",static:!1,private:!1,access:{has:o=>"nzLoop"in o,get:o=>o.nzLoop,set:(o,u)=>{o.nzLoop=u}},metadata:f},yt,Et),f&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}nzConfigService=Y(this,n);ngZone;renderer;cdr;platform;resizeService;nzDragService;nzResizeObserver;_nzModuleName=Oi;carouselContents;slickList;slickTrack;nzDotRender;nzEffect=Y(this,t,"scrollx");nzEnableSwipe=(Y(this,e),Y(this,v,!0));nzDots=(Y(this,T),Y(this,it,!0));nzAutoPlay=(Y(this,A),Y(this,j,!1));nzAutoPlaySpeed=(Y(this,V),Y(this,kt,3e3));nzTransitionSpeed=(Y(this,Tt),500);nzLoop=Y(this,yt,!0);nzStrategyOptions=(Y(this,Et),void 0);set nzDotPosition(f){this._dotPosition=f,this.vertical=f==="left"||f==="right"}get nzDotPosition(){return this._dotPosition}_dotPosition="bottom";nzBeforeChange=new Kt;nzAfterChange=new Kt;activeIndex=0;el;slickListEl;slickTrackEl;strategy;vertical=!1;transitionInProgress;dir="ltr";destroy$=new Ht;gestureRect=null;pointerDelta=null;isTransiting=!1;isDragging=!1;directionality=Xt(Fe);customStrategies=Xt(Ti,{optional:!0});constructor(f,o,u,w,C,nt,$t,h,a){this.nzConfigService=o,this.ngZone=u,this.renderer=w,this.cdr=C,this.platform=nt,this.resizeService=$t,this.nzDragService=h,this.nzResizeObserver=a,this.nzDotPosition="bottom",this.el=f.nativeElement}ngOnInit(){this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.dir=this.directionality.value,this.directionality.change.pipe(Dt(this.destroy$)).subscribe(f=>{this.dir=f,this.markContentActive(this.activeIndex),this.cdr.detectChanges()}),ke(this.slickListEl,"keydown").pipe(Dt(this.destroy$)).subscribe(f=>{let{keyCode:o}=f;o!==37&&o!==39||(f.preventDefault(),this.ngZone.run(()=>{o===37?this.pre():this.next(),this.cdr.markForCheck()}))}),this.nzResizeObserver.observe(this.el).pipe(me(100),he(),Dt(this.destroy$)).subscribe(()=>{this.layout()})}ngAfterContentInit(){this.markContentActive(0)}ngAfterViewInit(){this.carouselContents.changes.subscribe(()=>{this.markContentActive(0),this.layout()}),this.resizeService.subscribe().pipe(Dt(this.destroy$)).subscribe(()=>{this.layout()}),this.switchStrategy(),this.markContentActive(0),this.layout(),Promise.resolve().then(()=>{this.layout()})}ngOnChanges(f){let{nzEffect:o,nzDotPosition:u}=f;o&&!o.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),u&&!u.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),!this.nzAutoPlay||!this.nzAutoPlaySpeed?this.clearScheduledTransition():this.scheduleNextTransition()}ngOnDestroy(){this.clearScheduledTransition(),this.strategy&&this.strategy.dispose(),this.destroy$.next(),this.destroy$.complete()}next(){this.goTo(this.activeIndex+1)}pre(){this.goTo(this.activeIndex-1)}goTo(f){if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting&&(this.nzLoop||f>=0&&f<this.carouselContents.length)){let o=this.carouselContents.length,u=this.activeIndex,w=(f+o)%o;this.isTransiting=!0,this.nzBeforeChange.emit({from:u,to:w}),this.strategy.switch(this.activeIndex,f).subscribe(()=>{this.scheduleNextTransition(),this.nzAfterChange.emit(w),this.isTransiting=!1}),this.markContentActive(w),this.cdr.markForCheck()}}switchStrategy(){this.strategy&&this.strategy.dispose();let f=this.customStrategies?this.customStrategies.find(o=>o.name===this.nzEffect):null;if(f){this.strategy=new f.strategy(this,this.cdr,this.renderer,this.platform);return}this.strategy=this.nzEffect==="scrollx"?new le(this,this.cdr,this.renderer,this.platform):new ae(this,this.cdr,this.renderer,this.platform)}scheduleNextTransition(){this.clearScheduledTransition(),this.nzAutoPlay&&this.nzAutoPlaySpeed>0&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout(()=>{this.goTo(this.activeIndex+1)},this.nzAutoPlaySpeed))}clearScheduledTransition(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=void 0)}markContentActive(f){this.activeIndex=f,this.carouselContents&&this.carouselContents.forEach((o,u)=>{o.isActive=f===u}),this.cdr.markForCheck()}pointerDown=f=>{!this.isDragging&&!this.isTransiting&&this.nzEnableSwipe&&(this.clearScheduledTransition(),this.gestureRect=this.slickListEl.getBoundingClientRect(),this.nzDragService.requestDraggingSequence(f).subscribe(o=>{this.pointerDelta=o,this.isDragging=!0,this.strategy?.dragging(this.pointerDelta)},()=>{},()=>{if(this.nzEnableSwipe&&this.isDragging){let o=this.pointerDelta?this.pointerDelta.x:0;Math.abs(o)>this.gestureRect.width/3&&(this.nzLoop||o<=0&&this.activeIndex+1<this.carouselContents.length||o>0&&this.activeIndex>0)?this.goTo(o>0?this.activeIndex-1:this.activeIndex+1):this.goTo(this.activeIndex),this.gestureRect=null,this.pointerDelta=null}this.isDragging=!1}))};layout(){this.strategy&&this.strategy.withCarouselContents(this.carouselContents)}static \u0275fac=function(o){return new(o||ce)(E(te),E(Te),E(ye),E(ee),E(Pe),E(Oe),E(Re),E(je),E(We))};static \u0275cmp=M({type:ce,selectors:[["nz-carousel"]],contentQueries:function(o,u,w){if(o&1&&De(w,de,4),o&2){let C;J(C=U())&&(u.carouselContents=C)}},viewQuery:function(o,u){if(o&1&&(tt(Si,7),tt(Mi,7)),o&2){let w;J(w=U())&&(u.slickList=w.first),J(w=U())&&(u.slickTrack=w.first)}},hostAttrs:[1,"ant-carousel"],hostVars:4,hostBindings:function(o,u){o&2&&F("ant-carousel-vertical",u.vertical)("ant-carousel-rtl",u.dir==="rtl")},inputs:{nzDotRender:"nzDotRender",nzEffect:"nzEffect",nzEnableSwipe:[2,"nzEnableSwipe","nzEnableSwipe",Vt],nzDots:[2,"nzDots","nzDots",Vt],nzAutoPlay:[2,"nzAutoPlay","nzAutoPlay",Vt],nzAutoPlaySpeed:[2,"nzAutoPlaySpeed","nzAutoPlaySpeed",ne],nzTransitionSpeed:[2,"nzTransitionSpeed","nzTransitionSpeed",ne],nzLoop:"nzLoop",nzStrategyOptions:"nzStrategyOptions",nzDotPosition:"nzDotPosition"},outputs:{nzBeforeChange:"nzBeforeChange",nzAfterChange:"nzAfterChange"},exportAs:["nzCarousel"],features:[Q],ngContentSelectors:Ii,decls:9,vars:4,consts:[["slickList",""],["slickTrack",""],["renderDotTemplate",""],[1,"slick-initialized","slick-slider",3,"dir"],["tabindex","-1",1,"slick-list",3,"mousedown","touchstart"],[1,"slick-track"],[1,"slick-dots",3,"slick-dots-top","slick-dots-bottom","slick-dots-left","slick-dots-right"],[1,"slick-dots"],[3,"slick-active"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,u){if(o&1){let w=rt();Ft(),m(0,"div",3)(1,"div",4,0),K("mousedown",function(nt){return G(w),X(u.pointerDown(nt))})("touchstart",function(nt){return G(w),X(u.pointerDown(nt))}),m(3,"div",5,1),Rt(5),p()(),D(6,bi,3,8,"ul",6),p(),D(7,ki,2,1,"ng-template",null,2,xt)}o&2&&(F("slick-vertical",u.nzDotPosition==="left"||u.nzDotPosition==="right"),_("dir","ltr"),c(6),xe(u.nzDots?6:-1))},dependencies:[be],encapsulation:2,changeDetection:0})}})(),ti=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=Ce({type:n});static \u0275inj=fe({})}return n})();var $i=["root"],Ni=(n,i)=>({height:n,"object-fit":i});function Ai(n,i){if(n&1&&($(0,"div",3,1),Wt(2,"safeHtml")),n&2){let t=I();_("innerHTML",Yt(2,1,t.html),Lt)}}function Hi(n,i){if(n&1&&$(0,"img",4),n&2){let t=I();_("src",t.data.src,ve)("ngStyle",_t(2,Ni,t.height<=0?"":t.height+"px",t.fit))}}var qt=class n{data={};height;fit="cover";root;isCode=!1;html="";constructor(){}ngOnInit(){this.isCode=this.data.url[0]===Ee,this.isCode&&(this.html=Qt(this.data.url))}ngAfterViewInit(){this.parseDescription()}parseDescription(){this.isCode&&Bt(this.root?.nativeElement,this.data.url)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-swiper-item"]],viewQuery:function(t,e){if(t&1&&tt($i,5),t&2){let s;J(s=U())&&(e.root=s.first)}},inputs:{data:"data",height:"height",fit:"fit"},decls:3,vars:2,consts:[["other",""],["root",""],["class","w-full",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"w-full",3,"innerHTML"],["draggable","false",1,"bgimg",3,"src","ngStyle"]],template:function(t,e){if(t&1&&D(0,Ai,3,3,"div",2)(1,Hi,1,5,"ng-template",null,0,xt),t&2){let s=Ct(2);_("ngIf",e.isCode)("ngIfElse",s)}},dependencies:[Z,ot,pt,Jt],styles:[".bgimg[_ngcontent-%COMP%]{width:100%}"]})};var Li=["*"],Fi=n=>({height:n});function Ri(n,i){if(n&1){let t=rt();m(0,"div",4),K("click",function(s){let v=G(t).$implicit,T=I(2);return X(T.jumpService.goUrl(s,v.url))}),$(1,"app-swiper-item",5),p()}if(n&2){let t=i.$implicit,e=I(2);F("cursor-pointer",t.url),c(),_("data",t)("height",e.height)("fit",e.fit)}}function ji(n,i){if(n&1&&(m(0,"div",1)(1,"nz-carousel",2),D(2,Ri,2,5,"div",3),p(),Rt(3),p()),n&2){let t=I();_("ngStyle",jt(5,Fi,t.height<=0?"":t.height+"px")),c(),_("nzAutoPlay",t.autoplay)("nzAutoPlaySpeed",5e3)("nzDots",t.images.length>1),c(),_("ngForOf",t.images)}}var Gt=class n{constructor(i){this.jumpService=i}images=[];autoplay=!0;height=300;fit="cover";static \u0275fac=function(t){return new(t||n)(E(St))};static \u0275cmp=M({type:n,selectors:[["app-swiper"]],inputs:{images:"images",autoplay:"autoplay",height:"height",fit:"fit"},ngContentSelectors:Li,decls:1,vars:1,consts:[["class","swiper",3,"ngStyle",4,"ngIf"],[1,"swiper",3,"ngStyle"],[3,"nzAutoPlay","nzAutoPlaySpeed","nzDots"],["nz-carousel-content","",3,"cursor-pointer","click",4,"ngFor","ngForOf"],["nz-carousel-content","",3,"click"],[3,"data","height","fit"]],template:function(t,e){t&1&&(Ft(),D(0,ji,4,7,"div",0)),t&2&&_("ngIf",e.images&&e.images.length>0)},dependencies:[ti,Ke,de,Z,wt,ot,pt,qt],styles:[".swiper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;overflow:hidden}.swiper[_ngcontent-%COMP%]     .slick-slide, .swiper[_ngcontent-%COMP%]     .slick-track, .swiper[_ngcontent-%COMP%]     .slick-list{height:auto!important}"],changeDetection:0})};var Wi=(n,i)=>({zoom:n,width:i}),ei=class n{data;component=N();constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-carousel"]],inputs:{data:"data"},decls:2,vars:7,consts:[[1,"ccarousel","family","citems",3,"ngStyle"],[3,"images","height","fit"]],template:function(t,e){t&1&&(m(0,"div",0),$(1,"app-swiper",1),p()),t&2&&(_("ngStyle",_t(4,Wi,e.component.zoom,e.data.width+"px")),c(),_("images",e.data.imgs)("height",155)("fit",e.data.fit))},dependencies:[Gt,Z,pt],styles:[".ccarousel[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden}.ccarousel[_ngcontent-%COMP%]     .swiper{height:var(--componentHeight)!important}"]})};export{Ye as a,Ve as b,Be as c,Qe as d,re as e,Ue as f,Ze as g,qe as h,Ge as i,Xe as j,Gt as k,ei as l};
